
<!DOCTYPE html
  PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head>
      <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
   <!--
This HTML is auto-generated from an M-file.
To make changes, update the M-file and republish this document.
      --><title>make_opts</title><meta name="generator" content="MATLAB 7.9"><meta name="date" content="2012-05-03"><meta name="m-file" content="make_opts"><style type="text/css">

body {
  background-color: white;
  margin:10px;
}

h1 {
  color: #990000; 
  font-size: x-large;
}

h2 {
  color: #990000;
  font-size: medium;
}

/* Make the text shrink to fit narrow windows, but not stretch too far in 
wide windows. */ 
p,h1,h2,div.content div {
  max-width: 600px;
  /* Hack for IE6 */
  width: auto !important; width: 600px;
}

pre.codeinput {
  background: #EEEEEE;
  padding: 10px;
}
@media print {
  pre.codeinput {word-wrap:break-word; width:100%;}
} 

span.keyword {color: #0000FF}
span.comment {color: #228B22}
span.string {color: #A020F0}
span.untermstring {color: #B20000}
span.syscmd {color: #B28C00}

pre.codeoutput {
  color: #666666;
  padding: 10px;
}

pre.error {
  color: red;
}

p.footer {
  text-align: right;
  font-size: xx-small;
  font-weight: lighter;
  font-style: italic;
  color: gray;
}

  </style></head><body><div class="content"><h1>make_opts</h1><!--introduction--><p>Make optional input parameters for running the sg_min package.</p><!--/introduction--><h2>Contents</h2><div><ul><li><a href="#1">Usage</a></li><li><a href="#2">Description</a></li></ul></div><h2>Usage<a name="1"></a></h2><p>opts = make_opts(opts)</p><p>Input</p><p>A list containing optional input parameter for sg_min.m specified by users.  One or several (even all) fields could be empty.</p><div><ul><li>opts.maxIter: Maximum number of iterations.  Default value: 300.</li><li>opts.ftol: Tolerance parameter for F.  Default value: 1e-10.</li><li>opts.gradtol: Tolerance parameter for dF.  Default value: 1e-7.</li><li>opts.verbose: Flag for print out output, logical 0 or 1. Default value: 0.</li></ul></div><p>Output:</p><p>A list containing optional input parameter for sg_min.m, specified by users or the default values are used.</p><div><ul><li>opts.maxIter: Maximum number of iterations.  Default value: 300.</li><li>opts.ftol: Tolerance parameter for F.  Default value: 1e-10.</li><li>opts.gradtol: Tolerance parameter for dF.  Default value: 1e-7.</li><li>opts.verbose: Flag for print out output, logical 0 or 1. Default value: 0.</li></ul></div><h2>Description<a name="2"></a></h2><p>The sg_min function has some optional input parameters that control the iteration process.  These parameters include maximum number of iteration, tolerance parameters for convergence of the objective function F and the derivative of the objective function dF, and the print out of the iteration process.  The user can set one or all of parameters, if not, default values will be used.</p><pre class="codeinput"><span class="keyword">function</span> opts = make_opts(opts)


<span class="keyword">if</span> isfield(opts,<span class="string">'maxIter'</span>)
    <span class="keyword">if</span> (opts.maxIter&lt;1)
        opts.maxIter=300;
    <span class="keyword">end</span>
<span class="keyword">else</span>
    opts.maxIter=300;
<span class="keyword">end</span>

<span class="keyword">if</span> ~isfield(opts,<span class="string">'ftol'</span>)
    opts.ftol=1e-10;
<span class="keyword">end</span>

<span class="keyword">if</span> ~isfield(opts,<span class="string">'gradtol'</span>)
    opts.gradtol=1e-7;
<span class="keyword">end</span>

<span class="keyword">if</span> isfield(opts,<span class="string">'verbose'</span>)
    <span class="keyword">if</span> (opts.verbose~=1)
        opts.verbose=0;
    <span class="keyword">end</span>
<span class="keyword">else</span>
    opts.verbose=0;
<span class="keyword">end</span>
</pre><pre class="codeoutput">Input argument "opts" is undefined.

Error in ==&gt; make_opts at 39
if isfield(opts,'maxIter')
</pre><p class="footer"><br>
      Published with MATLAB&reg; 7.9<br></p></div><!--
##### SOURCE BEGIN #####
%% make_opts
% Make optional input parameters for running the sg_min package.

%% Usage
% opts = make_opts(opts)
%
% Input 
%
% A list containing optional input parameter for sg_min.m specified by users.  One or several (even all)
% fields could be empty.
%
% * opts.maxIter: Maximum number of iterations.  Default value: 300.
% * opts.ftol: Tolerance parameter for F.  Default value: 1e-10. 
% * opts.gradtol: Tolerance parameter for dF.  Default value: 1e-7.
% * opts.verbose: Flag for print out output, logical 0 or 1. Default value: 0.
%
% Output:
% 
% A list containing optional input parameter for sg_min.m, specified by
% users or the default values are used.
%
% * opts.maxIter: Maximum number of iterations.  Default value: 300.
% * opts.ftol: Tolerance parameter for F.  Default value: 1e-10. 
% * opts.gradtol: Tolerance parameter for dF.  Default value: 1e-7.
% * opts.verbose: Flag for print out output, logical 0 or 1. Default value: 0.

%% Description
% The sg_min function has some optional input parameters that control the
% iteration process.  These parameters include maximum number of iteration,
% tolerance parameters for convergence of the objective function F and the 
% derivative of the objective function dF, and the print out of the iteration
% process.  The user can set one or all of parameters, if not, default
% values will be used.
% 

function opts = make_opts(opts)


if isfield(opts,'maxIter')
    if (opts.maxIter<1)
        opts.maxIter=300;
    end
else
    opts.maxIter=300;
end

if ~isfield(opts,'ftol')
    opts.ftol=1e-10;
end

if ~isfield(opts,'gradtol')
    opts.gradtol=1e-7;
end

if isfield(opts,'verbose')
    if (opts.verbose~=1)
        opts.verbose=0;
    end
else
    opts.verbose=0;
end

##### SOURCE END #####
--></body></html>